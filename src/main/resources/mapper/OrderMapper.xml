<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.study.mapper.OrderMapper">
  <resultMap id="BaseResultMap" type="com.study.model.Order">
    <!--
      WARNING - @mbg.generated
    -->
    <id column="order_id" jdbcType="INTEGER" property="orderId" />
    <result column="order_company" jdbcType="VARCHAR" property="orderCompany" />
    <result column="order_company_phone" jdbcType="VARCHAR" property="orderCompanyPhone" />
    <result column="order_company_fax" jdbcType="VARCHAR" property="orderCompanyFax" />
    <result column="order_company_website" jdbcType="VARCHAR" property="orderCompanyWebsite" />
    <result column="order_date" jdbcType="VARCHAR" property="orderDate" />
    <result column="order_price_group" jdbcType="VARCHAR" property="orderPriceGroup" />
    <result column="order_number" jdbcType="VARCHAR" property="orderNumber" />
    <result column="order_urgent" jdbcType="INTEGER" property="orderUrgent" />
    <result column="order_seller" jdbcType="VARCHAR" property="orderSeller" />
    <result column="order_delivery_date" jdbcType="VARCHAR" property="orderDeliveryDate" />
    <result column="order_customer_name" jdbcType="VARCHAR" property="orderCustomerName" />
    <result column="order_contract_number" jdbcType="VARCHAR" property="orderContractNumber" />
    <result column="order_ins_date" jdbcType="VARCHAR" property="orderInsDate" />
    <result column="order_customer_phone" jdbcType="VARCHAR" property="orderCustomerPhone" />
    <result column="order_customer_telephone" jdbcType="VARCHAR" property="orderCustomerTelephone" />
    <result column="order_tube_date" jdbcType="VARCHAR" property="orderTubeDate" />
    <result column="order_address" jdbcType="VARCHAR" property="orderAddress" />
    <result column="order_remark" jdbcType="VARCHAR" property="orderRemark" />
    <result column="order_additional_amount" jdbcType="DOUBLE" property="orderAdditionalAmount" />
    <result column="order_additional_remark" jdbcType="VARCHAR" property="orderAdditionalRemark" />
    <result column="order_sales_amount" jdbcType="DOUBLE" property="orderSalesAmount" />
    <result column="order_total" jdbcType="DOUBLE" property="orderTotal" />
    <result column="order_total_number" jdbcType="DOUBLE" property="orderTotalNumber" />
    <result column="order_payment" jdbcType="DOUBLE" property="orderPayment" />
    <result column="order_margin" jdbcType="DOUBLE" property="orderMargin" />
    <result column="order_total_payment" jdbcType="DOUBLE" property="orderTotalPayment" />
    <result column="order_available_balance" jdbcType="DOUBLE" property="orderAvailableBalance" />
    <result column="order_credits" jdbcType="DOUBLE" property="orderCredits" />
    <result column="order_time" jdbcType="VARCHAR" property="orderTime" />
    <result column="order_delivery_time" jdbcType="VARCHAR" property="orderDeliveryTime" />
    <result column="order_status" jdbcType="VARCHAR" property="orderStatus" />
    <result column="order_review" jdbcType="VARCHAR" property="orderReview" />
    <result column="order_review_time" jdbcType="VARCHAR" property="orderReviewTime" />
    <result column="order_financial_audit" jdbcType="VARCHAR" property="orderFinancialAudit" />
    <result column="order_financial_audit_time" jdbcType="VARCHAR" property="orderFinancialAuditTime" />
    <result column="order_single" jdbcType="VARCHAR" property="orderSingle" />
    <result column="order_single_time" jdbcType="VARCHAR" property="orderSingleTime" />
    <result column="order_dealer" jdbcType="VARCHAR" property="orderDealer" />
    <result column="order_type" jdbcType="INTEGER" property="orderType" />
    <result column="order_customer_type" jdbcType="VARCHAR" property="orderCustomerType" />
    <result column="order_customer_address" jdbcType="VARCHAR" property="orderCustomerAddress" />
    <result column="order_contact" jdbcType="VARCHAR" property="orderContact" />
    <result column="order_contact_phone" jdbcType="VARCHAR" property="orderContactPhone" />
    <result column="order_contact_fax" jdbcType="VARCHAR" property="orderContactFax" />
  </resultMap>
  
  
  <select id="getOrdersByAll" parameterType="com.study.model.Order" resultType="com.study.model.Order">
  
  select order_id as "orderId",order_company as "orderCompany",order_company_phone as "orderCompanyPhone",order_company_fax as "orderCompanyFax",
         order_company_website as "orderCompanyWebsite",order_date as "orderDate",order_price_group as "orderPriceGroup",
         order_number as "orderNumber",order_urgent as "orderUrgent",order_seller as "orderSeller",order_delivery_date as "orderDeliveryDate",
         order_customer_name as "orderCustomerName",order_contract_number as "orderContractNumber",order_ins_date as "orderInsDate",
         order_customer_phone as "orderCustomerPhone",order_customer_telephone as "orderCustomerTelephone",order_tube_date as "orderTubeDate",
         order_address as "orderAddress",order_remark as "orderRemark",	order_additional_amount as "orderAdditionalAmount",
         order_additional_remark as "orderAdditionalRemark",order_sales_amount as "orderSalesAmount",order_total as "orderTotal",
         order_total_number as "orderTotalNumber",order_payment as "orderPayment",order_margin as "orderMargin",order_total_payment as "orderTotalPayment",
         order_available_balance as "orderAvailableBalance",order_credits as "orderCredits",order_time as "orderTime",order_delivery_time as "orderDeliveryTime",
         order_status as "orderStatus",order_review as "orderReview",order_review_time as "orderReviewTime",order_financial_audit as "orderFinancialAudit",
         order_financial_audit_time as "orderFinancialAuditTime",order_single as "orderSingle",order_single_time as "orderSingleTime",
         order_dealer as "orderDealer",(select dictdata_name from dictionarydata where id=order_dealer) as "orderDealerName",order_type as "orderType",order_customer_type as "orderCustomerType",order_customer_address as "orderCustomerAddress",
         order_contact as "orderContact",order_contact_phone as "orderContactPhone",order_contact_fax as "orderContactFax" from orders where 1=1
         <if test="orderCompany!=null and orderCompany!=''">
         and order_company like CONCAT(CONCAT('%', #{orderCompany}), '%') 
         </if>
  </select>
  <select id="getOrderMaxId" resultType="java.lang.Integer">
    select max(order_id) from orders
  </select>
</mapper>